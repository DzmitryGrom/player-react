(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(38)},23:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),i=a.n(c),s=(a(23),a(2)),l=a(3),o=a(7),u=a(4),m=a(6),p=a(5),d=(a(30),a(9)),k=(a(32),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isPlay:!0,isLoopTrack:!1},a.getTracks=function(){return a.props.__Store.tracks[0]},a.getPlayId=function(){return a.props.__Store.selectTrack[0]},a.getCurTime=function(){return document.querySelector("#curTime")},a.getProgressBar=function(){return document.querySelector("#progressBar")},a.getPlayer=function(){return document.querySelector("audio")},a.getPositonTrack=function(){for(var e=0;e<a.getTracks().length;e++)if(a.getTracks()[e].id===a.getPlayId())return e},a.pausePlayTrack=function(e){"number"===typeof e?setTimeout(function(){this.setState({isPlay:!0}),this.getPlayer().play()}.bind(Object(d.a)(Object(d.a)(a))),0):(a.setState({isPlay:!a.state.isPlay}),a.state.isPlay?a.getPlayer().pause():a.getPlayer().play())},a.rewindTrack=function(e){a.getPlayer().currentTime=(e.pageX-a.timeline.offsetLeft)/a.timeline.offsetWidth*a.getPlayer().duration},a.endedTrack=function(){a.getPositonTrack()<a.getTracks().length-1&&!a.state.isLoopTrack&&a.nextPlayTrack(),a.state.isLoopTrack?a.getPlayer().play():(a.setState({isPlay:!1}),a.getPlayer().pause(),a.getPlayer().currentTime=0)},a.timeChange=function(){var e=new Date(1e3*a.getPlayer().currentTime);a.getCurTime().innerHTML="".concat(e.getUTCHours()?e.toUTCString().slice(17,25):e.toUTCString().slice(20,25)),a.getProgressBar().style.width=(100*a.getPlayer().currentTime/a.getPlayer().duration).toFixed(1)+"%"},a.nextPlayTrack=function(){var e=a.getPositonTrack();++e,a.props.onSelectTrack(a.getTracks()[e].id),a.pausePlayTrack(e)},a.loopTrack=function(){a.setState({isLoopTrack:!a.state.isLoopTrack})},a.prevPlayTrack=function(){var e=a.getPositonTrack();--e,a.props.onSelectTrack(a.getTracks()[e].id),a.pausePlayTrack(e)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.isOpenList,a={};return this.getTracks()&&(a=this.getTracks().filter(function(t){return t.id===e.getPlayId()})),r.a.createElement("div",null,r.a.createElement("div",{className:"background",style:{backgroundImage:a[0]?"url(".concat(a[0].user.avatar_url,")"):null}}),r.a.createElement("div",{className:t?"state state-cover state-cover-up":"state state-cover"},r.a.createElement("div",{className:"panel panel_top"},r.a.createElement("span",{className:"panel-side-title"},r.a.createElement("i",{className:"i i_arrow"}),r.a.createElement("span",{className:"panel-side-tittle-text"},"Now Playing"))),r.a.createElement("div",{className:"track"},r.a.createElement("div",{className:"track-cover"}),a[0]?r.a.createElement("div",null,r.a.createElement("div",{className:"track-cover-author",style:{backgroundImage:"url(".concat(a[0].user.avatar_url,")")}}),r.a.createElement("audio",{onEnded:this.endedTrack,onTimeUpdate:this.timeChange,style:{display:"none"},src:"https://api.soundcloud.com/tracks/".concat(this.getPlayId(),"/stream?client_id=7172aa9d8184ed052cf6148b4d6b8ae6"),controls:!0}),r.a.createElement("div",{id:"defaultBar",className:"track-bar",onClick:this.rewindTrack,ref:function(t){e.timeline=t}},r.a.createElement("span",{id:"progressBar",className:"track-bar-line"},r.a.createElement("span",{id:"curTime",className:"track-bar-value"},"00:00"))),r.a.createElement("h2",{className:"track-albom"},a[0].user.username),r.a.createElement("h3",{className:"track-caption"},r.a.createElement("span",{className:"track-caption-text"},a[0].title)),r.a.createElement("div",{className:"controller"},r.a.createElement("div",{className:"controller-btn"},r.a.createElement("i",{className:this.getPositonTrack()>=1?"i icon-backward":"i icon-backward disabled",onClick:this.getPositonTrack()>=1?this.prevPlayTrack:null})),r.a.createElement("div",{className:"controller-btn",onClick:this.pausePlayTrack},r.a.createElement("i",{className:this.state.isPlay?"i icon-pause":"i icon-play"})),r.a.createElement("div",{className:"controller-btn"},r.a.createElement("i",{className:this.getPositonTrack()+1<this.getTracks().length?"i icon-forward":"i icon-forward disabled",onClick:this.getPositonTrack()+1<this.getTracks().length?this.nextPlayTrack:null})),r.a.createElement("div",{className:"controller-btn"},r.a.createElement("i",{className:this.state.isLoopTrack?"i icon-loop icon-loop-active":"i icon-loop",onClick:this.loopTrack})))):null)))}}]),t}(n.Component)),y=Object(p.b)(function(e){return{__Store:e}},function(e){return{onSelectTrack:function(t){e({type:"PLAY_TRACK_ID",payload:t})}}})(k),h=(a(34),function(e){var t=e.isSelect,a=e.trackItem,n=new Date;return n.setTime(a.duration),r.a.createElement("div",{className:t?"playlist-item playlist-item-select":"playlist-item"},r.a.createElement("div",{className:"pl-side_left"},r.a.createElement("span",{className:"pl-text_top"},a.user.username),r.a.createElement("span",{className:"pl-text_botton"},a.title)),r.a.createElement("div",{className:"pl-side_right"},r.a.createElement("div",{className:"pl-time-side_right"},r.a.createElement("span",{className:"pl-item-time"},n.getUTCHours()?n.toUTCString().slice(17,25):n.toUTCString().slice(20,25))),r.a.createElement("div",{className:"i i_scale"},r.a.createElement("span",{className:"i_scale-bar"}),r.a.createElement("span",{className:"i_scale-bar"}),r.a.createElement("span",{className:"i_scale-bar"}))))}),f=(a(36),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.onSelectTrack(e),setTimeout(function(){document.querySelector("audio").play()},0)},a.getPlayId=function(){return a.props.__Store.selectTrack[0]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onButtonClick,n=t.isOpenList;if(this.props.__Store.tracks.length>0){var c=this.props.__Store.tracks[0].map(function(t,a){return r.a.createElement("li",{key:t.id,onClick:e.handleClick.bind(e,t.id)},r.a.createElement(h,{isSelect:e.getPlayId()===t.id,trackItem:t}))});return r.a.createElement("div",{className:n?"state state-playlist state-playlist-active":"state state-playlist"},r.a.createElement("div",{className:"panel panel_top panel_bg",onClick:a},r.a.createElement("span",{className:"top-panel-text"},"Playlist")),r.a.createElement("ul",{className:"playlist"},c))}return null}}]),t}(n.Component)),g=Object(p.b)(function(e){return{__Store:e}},function(e){return{onSelectTrack:function(t){e({type:"PLAY_TRACK_ID",payload:t})}}})(f),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isOpenList:!1},a.handleClick=function(e){return a.setState({isOpenList:!a.state.isOpenList})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.soundcloud.com/tracks?client_id=7172aa9d8184ed052cf6148b4d6b8ae6&genres=pop&offset=663").then(function(e){return e.json()}).then(function(t){e.props.onAddTracks(t)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y,{isOpenList:this.state.isOpenList}),r.a.createElement(g,{isOpenList:this.state.isOpenList,onButtonClick:this.handleClick.bind(this)}))}}]),t}(n.Component),v=Object(p.b)(function(e){return{testStore:e}},function(e){return{onAddTracks:function(t){e({type:"TRACKS",payload:t})}}})(T),b=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(v,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=a(8),P=a(17);var _=Object(E.b)({tracks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"TRACKS"===t.type?Object(P.a)(e).concat([t.payload]):e},selectTrack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"PLAY_TRACK_ID"===t.type?[t.payload]:e}}),N=Object(E.c)(_,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(r.a.createElement(p.a,{store:N},r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.10e9766c.chunk.js.map